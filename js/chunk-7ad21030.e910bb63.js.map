{"version":3,"sources":["webpack:///./src/views/other/task/index.vue?9c6b","webpack:///./src/components/Task/index.vue?a535","webpack:///src/components/Task/index.vue","webpack:///./src/components/Task/index.vue?0d17","webpack:///./src/components/Task/index.vue","webpack:///src/views/other/task/index.vue","webpack:///./src/views/other/task/index.vue?9a2d","webpack:///./src/views/other/task/index.vue","webpack:///./src/components/Task/index.vue?8795"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticRenderFns","staticClass","attrs","on","$event","onDrag","onDragStop","_l","pane","paneIdx","key","ref","refInFor","_s","name","card","cardIdx","class","draggedCardIdx","index","onDragStart","leaving","ghostCardStyle","animate","settings","style","pos","y","draggedCard","SETTINGS","trelloStyle","animateEnd","transformOriginMode","scale","rotationOffset","min","max","rotationMitigation","debug","dataInspector","data","mousePos","x","lastMousePos","paneOverlappedIdx","width","cursorDistance","percentDistanceMiddle","transform","transformOrigin","velocity","rotation","cards","paneIndex","panes","settingsExpanded","methods","cardEl","$refs","cardRect","getBoundingClientRect","document","documentElement","cursor","paddingLeft","parseFloat","getComputedStyle","paddingRight","e","pageX","pageY","clientWidth","setGhostCardStyle","updateUI","Math","abs","window","event","dragX","dragY","requestAnimationFrame","isOverlapping","findTransformValues","i","paneEl","checkOverlap","putCardInPane","resetValues","setTimeout","xOffset","yOffset","drag","rect","height","isDragstart","push","join","rotationMin","rotationMax","computed","filledPanes","map","item","length","component","components","Task"],"mappings":"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","file":"js/chunk-7ad21030.e910bb63.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"鼠标拖动任务\")]),_c('Task')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"u-task\"},[_c('div',{attrs:{\"id\":\"app\"},on:{\"mousemove\":function($event){return _vm.onDrag($event)},\"mouseup\":function($event){return _vm.onDragStop()}}},[_c('main',_vm._l((_vm.filledPanes),function(pane,paneIdx){return _c('div',{key:paneIdx,ref:(\"pane-\" + paneIdx),refInFor:true,staticClass:\"pane\"},[_c('div',{staticClass:\"pane-header\"},[_vm._v(_vm._s(pane.name))]),_vm._l((pane.cards),function(card,cardIdx){return _c('div',{key:cardIdx,ref:(\"card-\" + (card.index)),refInFor:true,class:{ 'pane-card': true, 'dragging': _vm.draggedCardIdx === card.index },on:{\"mousedown\":function($event){return _vm.onDragStart($event, card.index)}}},[_vm._v(\" \"+_vm._s(card.name)+\" \")])})],2)}),0),_c('div',{ref:\"ghostCard\",class:{ 'pane-card': true, 'active': _vm.draggedCardIdx !== -1, leaving: _vm.ghostCardStyle.leaving, animate: _vm.settings.animate },style:((\"\\n             width: \" + (_vm.ghostCardStyle.width) + \"px;\\n             left: \" + (_vm.ghostCardStyle.pos.x) + \"px; top: \" + (_vm.ghostCardStyle.pos.y - 10) + \"px;\\n             transform: \" + (_vm.ghostCardStyle.transform) + \";\\n             transform-origin: \" + (_vm.ghostCardStyle.transformOrigin) + \";\\n             \")),attrs:{\"id\":\"ghost-card\"}},[_vm._v(\" \"+_vm._s(_vm.draggedCard.name)+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"u-task\">\n    <div id=\"app\" @mousemove=\"onDrag($event)\" @mouseup=\"onDragStop()\">\n      <main>\n        <div v-for=\"(pane, paneIdx) in filledPanes\" :key=\"paneIdx\" :ref=\"`pane-${paneIdx}`\" class=\"pane\">\n          <div class=\"pane-header\">{{ pane.name }}</div>\n          <div v-for=\"(card, cardIdx) in pane.cards\" :key=\"cardIdx\"\n             :class=\"{ 'pane-card': true, 'dragging': draggedCardIdx === card.index }\"\n             :ref=\"`card-${card.index}`\"\n             @mousedown=\"onDragStart($event, card.index)\"\n          >\n            {{ card.name }}\n          </div>\n        </div>\n      </main>\n      <div\n        id=\"ghost-card\"\n        ref=\"ghostCard\"\n        :style=\"`\n               width: ${ghostCardStyle.width}px;\n               left: ${ghostCardStyle.pos.x}px; top: ${ghostCardStyle.pos.y - 10}px;\n               transform: ${ghostCardStyle.transform};\n               transform-origin: ${ghostCardStyle.transformOrigin};\n               `\"\n        :class=\"{ 'pane-card': true, 'active': draggedCardIdx !== -1, leaving: ghostCardStyle.leaving, animate: settings.animate }\"\n      >\n        {{ draggedCard.name }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst SETTINGS = {\n  trelloStyle: false,\n  animateEnd: true,\n  transformOriginMode: 'mouse',\n  scale: 1.1,\n  rotationOffset: {\n    min: 1.2,\n    max: 2\n  },\n  rotationMitigation: 0.2,\n  debug: {\n    dataInspector: false\n  }\n}\n\nexport default {\n  name: 'index',\n  data: function () {\n    return {\n      mousePos: {\n        x: -1000,\n        y: -1000\n      },\n      lastMousePos: { x: 0, y: 0 },\n      draggedCardIdx: -1,\n      paneOverlappedIdx: -1,\n      ghostCardStyle: {\n        leaving: false,\n        pos: {\n          x: 0,\n          y: 0\n        },\n        width: 0,\n        cursorDistance: {\n          x: 0,\n          y: 0\n        },\n        percentDistanceMiddle: 0,\n        transform: '',\n        transformOrigin: '',\n        velocity: 0,\n        rotation: 0\n      },\n      cards: [{\n        name: '登陆月球',\n        paneIndex: 0\n      }, {\n        name: '登陆太阳',\n        paneIndex: 0\n      }, {\n        name: '踏足山巅',\n        paneIndex: 1\n      }, {\n        name: '写个管理系统',\n        paneIndex: 2\n      }],\n      panes: [\n        {\n          name: '准备做'\n        },\n        {\n          name: '正在做'\n        },\n        {\n          name: '已完成'\n        }\n      ],\n      settings: SETTINGS,\n      settingsExpanded: false\n    }\n  },\n  methods: {\n    onDragStart (e, index) {\n      const cardEl = this.$refs[`card-${index}`][0]\n      const cardRect = cardEl.getBoundingClientRect()\n\n      document.documentElement.style.cursor = 'grabbing'\n\n      const paddingLeft = parseFloat(getComputedStyle(cardEl).paddingLeft)\n      const paddingRight = parseFloat(getComputedStyle(cardEl).paddingRight)\n\n      this.mousePos.x = e.pageX\n      this.mousePos.y = e.pageY\n\n      this.draggedCardIdx = index\n\n      this.ghostCardStyle.width = cardEl.clientWidth - paddingLeft - paddingRight\n      this.ghostCardStyle.cursorDistance.x = e.pageX - cardRect.x\n      this.ghostCardStyle.cursorDistance.y = e.pageY - cardRect.y\n\n      this.setGhostCardStyle(e)\n      this.updateUI()\n\n      if (this.settings.transformOriginMode === 'center') { this.ghostCardStyle.transformOrigin = 'center' } else { this.ghostCardStyle.transformOrigin = `${this.ghostCardStyle.cursorDistance.x}px ${this.ghostCardStyle.cursorDistance.y}px` }\n      this.ghostCardStyle.percentDistanceMiddle =\n        this.ghostCardStyle.cursorDistance.x - cardEl.clientWidth / 2\n      this.ghostCardStyle.percentDistanceMiddle = Math.abs(\n        this.ghostCardStyle.percentDistanceMiddle\n      )\n      this.ghostCardStyle.percentDistanceMiddle /= cardEl.clientWidth / 2\n      this.ghostCardStyle.percentDistanceMiddle =\n        Math.round(this.ghostCardStyle.percentDistanceMiddle * 100) / 100\n    },\n\n    onDrag (e) {\n      e = e || window.event\n      if (this.draggedCardIdx === -1) { return }\n      this.mousePos.x = e.pageX\n      this.mousePos.y = e.pageY\n    },\n\n    updateUI () {\n      const dragX = this.mousePos.x\n      const dragY = this.mousePos.y\n\n      if (this.draggedCardIdx === -1 || this.ghostCardStyle.leaving) return\n\n      if (!dragX && !dragY) {\n        this.lastMousePos.x = 0\n        this.lastMousePos.y = 0\n        return requestAnimationFrame(this.updateUI)\n      }\n      this.findTransformValues()\n      this.setGhostCardStyle(true)\n\n      let isOverlapping\n\n      for (let i = 0, paneEl = null; (paneEl = this.$refs[`pane-${i}`]); i++) {\n        paneEl = paneEl[0] ? paneEl[0] : paneEl\n\n        isOverlapping = this.checkOverlap(\n          { x: dragX, y: dragY },\n          paneEl.getBoundingClientRect()\n        )\n\n        if (isOverlapping && this.paneOverlappedIdx === i) { return requestAnimationFrame(this.updateUI) } else if (isOverlapping) {\n          this.paneOverlappedIdx = i\n          break\n        }\n      }\n\n      if (!isOverlapping) {\n        return requestAnimationFrame(this.updateUI)\n      }\n      this.putCardInPane()\n      return requestAnimationFrame(this.updateUI)\n    },\n\n    onDragStop () {\n      if (this.draggedCardIdx === -1) { return }\n      document.documentElement.style.cursor = 'default'\n      const cardEl = this.$refs[`card-${this.draggedCardIdx}`] && this.$refs[`card-${this.draggedCardIdx}`][0]\n      const cardRect = cardEl.getBoundingClientRect()\n\n      if (!this.settings.animateEnd) {\n        return this.resetValues()\n      }\n      setTimeout(() => {\n        this.resetValues()\n      }, 100)\n      this.ghostCardStyle.leaving = true\n      const xOffset = cardRect.x - this.ghostCardStyle.pos.x\n      const yOffset = cardRect.y - this.ghostCardStyle.pos.y\n      this.ghostCardStyle.transform = `scale(1) translate(${xOffset}px, ${yOffset}px)`\n    },\n\n    resetValues () {\n      this.draggedCardIdx = -1\n      this.paneOverlappedIdx = -1\n      this.lastMousePos.x = 0\n      this.lastMousePos.y = 0\n      this.ghostCardStyle.x = -1000\n      this.ghostCardStyle.y = -1000\n      this.ghostCardStyle.width = 0\n      this.ghostCardStyle.cursorDistance.x = 0\n      this.ghostCardStyle.cursorDistance.y = 0\n      this.ghostCardStyle.transform = ''\n      this.ghostCardStyle.leaving = false\n      this.ghostCardStyle.percentDistanceMiddle = 0\n    },\n\n    checkOverlap (drag, rect) {\n      if (drag.x < rect.x || drag.x > rect.x + rect.width) return false\n      if (drag.y < rect.y || drag.y > rect.y + rect.height) return false\n      return true\n    },\n\n    putCardInPane () {\n      this.cards[this.draggedCardIdx].paneIndex = this.paneOverlappedIdx\n    },\n\n    setGhostCardStyle (isDragstart) {\n      const dragX = this.mousePos.x\n      const dragY = this.mousePos.y\n      const transform = []\n\n      if (isDragstart) { transform.push(`scale(${this.settings.scale})`) }\n\n      transform.push(`rotate(${this.ghostCardStyle.rotation}deg)`)\n      this.ghostCardStyle.transform = transform.join(' ')\n      this.ghostCardStyle.pos.x = dragX - this.ghostCardStyle.cursorDistance.x\n      this.ghostCardStyle.pos.y = dragY - this.ghostCardStyle.cursorDistance.y\n    },\n\n    findTransformValues () {\n      if (this.settings.trelloStyle) {\n        this.ghostCardStyle.rotation = '4'\n        this.lastMousePos.x = this.mousePos.x\n        this.lastMousePos.y = this.mousePos.y\n        return\n      }\n\n      const velocity = this.mousePos.x - this.lastMousePos.x\n      let rotation = this.ghostCardStyle.rotation || 0\n\n      const rotationMin = this.settings.rotationOffset.min\n      const rotationMax = this.settings.rotationOffset.max\n      const rotationOffset =\n        (rotationMax - rotationMin) *\n        (1 - this.ghostCardStyle.percentDistanceMiddle)\n      const rotationMitigation = this.settings.rotationMitigation\n\n      rotation =\n        rotation * (1 - rotationMitigation) +\n        this.sigmoid(velocity) * (rotationMin + rotationOffset)\n      if (Math.abs(rotation) < 0.01) rotation = 0\n\n      this.ghostCardStyle.velocity = velocity\n      this.ghostCardStyle.rotation = rotation\n      this.lastMousePos.x = this.mousePos.x\n      this.lastMousePos.y = this.mousePos.y\n    },\n\n    sigmoid (x) {\n      return x / (1 + Math.abs(x))\n    },\n\n    expandSettings () {\n      if (this.settingsExpanded) return\n      this.settingsExpanded = true\n    },\n\n    wrapSettings () {\n      this.settingsExpanded = false\n    }\n  },\n  computed: {\n    filledPanes () {\n      const filledPanes = this.panes.map(item => ({ name: item.name }))\n\n      for (let i = 0; i < this.cards.length; i++) {\n        const pane = filledPanes[this.cards[i].paneIndex]\n\n        if (!pane.cards) pane.cards = []\n        pane.cards.push({ ...this.cards[i], index: i })\n      }\n\n      return filledPanes\n    },\n    draggedCard () {\n      return this.cards[this.draggedCardIdx] || { name: '' }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n  .u-task{\n    $color-bg: #0079bf;\n    $color-bg-pane: #ebecf0;\n    $color-bg-card: #ffffff;\n    $color-bg-card-active: #f4f5f7;\n    $color-text: #172b4d;\n\n    main {\n      height: 100%;\n      width: 100%;\n      display: flex;\n      justify-content: flex-start;\n      padding: 20px 0 30px 0;\n      box-sizing: border-box;\n\n      // Forced to do this due to the flex overflow padding bug\n      &:before {\n        content: '';\n        float: right;\n        min-width: 20px;\n        width: 10px;\n        height: 100%;\n      }\n      &:after {\n        content: '';\n        float: right;\n        min-width: 20px;\n        width: 10px;\n        height: 100%;\n      }\n    }\n\n    .pane {\n      display: inline-block;\n      height: 100%;\n      min-width: 272px;\n      max-width: 272px;\n      margin: 0 5px;\n      border-radius: 3px;\n      padding: 10px;\n      box-sizing: border-box;\n      background: $color-bg-pane;\n      min-height: 400px;\n    }\n\n    .pane-header {\n      font-weight: 600;\n    }\n\n    .pane-card {\n      background: $color-bg-card;\n      padding: 10px;\n      margin: 10px 0;\n      border-radius: 3px;\n      box-shadow: 0 1px 0 rgba(9, 30, 66, 0.25);\n      cursor: grab;\n\n      &:hover {\n        background: $color-bg-card-active;\n      }\n\n      &.dragging {\n        color: transparent;\n        background: none;\n        border: 2px dashed rgba(0, 0, 0, 0.2);\n        box-shadow: none;\n        user-select: none;\n        -moz-user-select: none;\n        -webkit-user-select: none;\n        cursor: grabbing;\n      }\n    }\n\n    #ghost-card {\n      position: absolute;\n      user-select: none;\n      pointer-events: none;\n      top: 100vh;\n      left: 100vw;\n      opacity: 0;\n      transform-origin: center;\n      transform: scale(1) rotate(0);\n      box-shadow: 0 1px 0 rgba(9, 30, 66, 0.25);\n      transition: transform 0.04s ease-in-out;\n\n      &.animate {\n        transition: box-shadow 0.1s ease-in-out;\n        transition: transform 0.05s ease-in-out;\n      }\n\n      &.active {\n        opacity: 1;\n        box-shadow: 0 12px 24px -6px rgba(9, 30, 66, 0.25),\n        0 0 0 1px rgba(9, 30, 66, 0.08);\n      }\n\n      &.leaving {\n        transition: all .1s ease;\n        box-shadow: 0 1px 0 rgba(9, 30, 66, 0.25);\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4d180968&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4d180968&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d180968\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <h2>鼠标拖动任务</h2>\n    <Task></Task>\n  </div>\n\n</template>\n\n<script>\n\nimport Task from '@/components/Task'\n\nexport default {\n  name: 'index',\n  components: {\n    Task\n  },\n  data () {\n    return {}\n  },\n  methods: {}\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2ec5400c&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4d180968&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4d180968&lang=scss&scoped=true&\""],"sourceRoot":""}